package ml.classifier;

import org.junit.Test;
import org.mwg.*;
import org.mwg.core.scheduler.NoopScheduler;
import org.mwg.ml.AbstractMLNode;
import org.mwg.mlx.MLXPlugin;
import org.mwg.mlx.algorithm.AbstractAnySlidingWindowManagingNode;
import org.mwg.mlx.algorithm.AbstractClassifierSlidingWindowManagingNode;
import org.mwg.mlx.algorithm.classifier.BatchDecisionTreeNode;

import static org.junit.Assert.assertTrue;

public class BatchDecisionTreeNodeTest extends AbstractClassifierTest {

    //Can't use random with seed in JS. Need to work around it
    private static final double f1Array[] = new double[]{0.7308781907032909,
            0.20771484130971707, 0.9677559094241207, 0.9637047970232077, 0.9471949176631939, 0.3971743421847056, 0.29405703200403677,
            0.11596708803265776, 0.65989270869342, 0.3782020453210553, 0.6949479796024919, 0.005025175992452557, 0.7439844862373166,
            0.481728301575598, 0.5771002613742765, 0.6233638106316658, 0.010684410982228831, 0.17805484663717475, 0.9738340099187002,
            0.39452090629422176, 0.43200687989353914, 0.8899087516553771, 0.5923792438629387, 0.11983904230418962, 0.9843228006692949,
            0.37464950029397015, 0.3336102111746697, 0.5041355667045739, 0.6304048639228539, 0.5076599160699481, 0.4287841787462007,
            0.7173224016222269, 0.20949273346356434, 0.5489525169306556, 0.5878158289013334, 0.6990066224344805, 0.2549094512998157,
            0.22502238600837543, 0.803618606015427, 0.16310352738831468, 0.008760417318731673, 0.2079779790426225, 0.7070442260539652,
            0.5094929196703692, 0.15324623281626104, 0.8239808754531598, 0.6169513867462899, 0.09975028132571628, 0.028120372951167205,
            0.07302602021384397, 0.679935420191025, 0.6039836876835672, 0.3538232827704746, 0.2920934113562542, 0.7442496201360502,
            0.37580820874305876, 0.7298239289350995, 0.043702698296824716, 0.8624497547615505, 0.06248845991277674, 0.42770008141825855,
            0.061901802278626294, 0.5672930709037051, 0.907281190118193, 0.2484887670873126, 0.3377209272639704, 0.3154227864574829,
            0.45100850261544956, 0.4638377596597093, 0.6761231545253681, 0.7433696227652655, 0.5898935294704388, 0.1104898534174854,
            0.3064827881053399, 0.6304014407849913, 0.19668940091077458, 0.1576306138076371, 0.3786228753606087, 0.7127521677660935,
            0.7621330697392812, 0.31663147897269206, 0.42644304740942895, 0.7437615476135019, 0.7637548990718225, 0.512718823382403,
            0.13116881312494189, 0.44445661109533674, 0.7190756853468042, 0.288100716049866, 0.9662539506822094, 0.23910643632747064,
            0.1302219280116259, 0.6560824389883995, 0.5559666311129164, 0.920281192548133, 0.776990965679351, 0.17570195450010273,
            0.8296912233491993, 0.6379468960547, 0.06539702112886914, 0.2664167073273985, 0.3039764375623307, 0.8571270426792014,
            0.38872927575292127, 0.03237285340092644, 0.07436137629811046, 0.17866235941017028, 0.708153827940544, 0.1157884427761261,
            0.3490107239093957, 0.16759999599955966, 0.8098898289838599, 0.34898138772155585, 0.6061902042033666, 0.5837433172059664,
            0.9459920309753782, 0.22457387021115427, 0.7076135442545414, 0.6588936239634658, 0.8157702414514119, 0.4534042358503293,
            0.5496925287865534, 0.31531501628136305, 0.09487740515771204, 0.12967758890382586, 0.08472082428015759, 0.4699535995042926,
            0.96909724727718, 0.27288644092906245, 0.7940233434749963, 0.8189424032001663, 0.3798630867370528, 0.7660327692439177,
            0.9451020901929118, 0.7469231770524976, 0.9385386123743866, 0.9596822491367916, 0.21480993477536892, 0.25571629146356956,
            0.7164922827313019, 0.46138270895191547, 0.5105833271180019, 0.05687004880600954, 0.36799637322681067, 0.8799772068792895,
            0.07176552425471794, 0.2226207298867815, 0.2929819962005631, 0.5443435774165437, 0.18305119791334112, 0.03979437608735614,
            0.7966813038398515, 0.46609155413725645, 0.08208400644580893, 0.9611818478109091, 0.453188192034624, 0.06574838541045613,
            0.8932382871275492, 0.7989181522497233, 0.12996863321546248, 0.4319648320167988, 0.6696159391389869, 0.5543976034553895,
            0.3803520828791469, 0.13327217273350478, 0.8752899735987772, 0.5292556661639499, 0.16103499099921081, 0.8519218162609062,
            0.8898258680169367, 0.6119490836114814, 0.0816277959708882, 0.3593386447515857, 0.36711210467992184, 0.8844653568590998,
            0.6432766185523678, 0.6027195010504439, 0.5305308440713138, 0.9436928852902403, 0.1733910707046602, 0.9223077884444852,
            0.7365003587093165, 0.5819829326567416, 0.41350888270193265, 0.6688756322835598, 0.8884201859553076, 0.7214348251941366,
            0.9673294861209333, 0.7409449075469806, 0.5330504538112961, 0.7464355387320984, 0.06594689100291251, 0.8112781719353185,
            0.7213564798215581, 0.6289848652536059, 0.357313748927502, 0.2621708905186815, 0.9658499257329497, 0.4913374573898074,
            0.6769675437889874, 0.09907626719226559, 0.8764579135029733, 0.500493216975632, 0.00705024322089165, 0.3620936740897073,
            0.30695099042932494, 0.2390667971619035, 0.08065270263659219, 0.8048523294811545, 0.09396175877193202, 0.947067959880486,
            0.33851493876505157, 0.8603210290420725, 0.7206246925627586, 0.27912365501576863, 0.19511367640809385, 0.16307545435982906,
            0.4868691581400654, 0.47167348112262786, 0.8211683970570157, 0.14755445215994234, 0.018396287762270203, 0.06466929718662862,
            0.8995969280165148, 0.4918359513022691, 0.19637117894571332, 0.5723106378160226, 0.061952195554495604, 0.4264645294272059,
            0.8398618958959204, 0.7473468727246582, 0.9623710093623833, 0.17786127395043716, 0.7230560080691862, 0.3334777554447792,
            0.19606644969043951, 0.06584743519624359, 0.7592864775102005, 0.4503830711608291, 0.5193948213002594, 0.024813164568415536,
            0.43389759274963635, 0.005913170164269621, 0.07852867854371859, 0.5680625151738209, 0.8179828428638072, 0.7799712681838831,
            0.6037670123704197, 0.4648659307424441, 0.7450253028204447, 0.07461889030963442, 0.7765139024072302, 0.649751467314173,
            0.9824722374481877, 0.07493579424998087, 0.2259568068683473, 0.13356614489950402, 0.4802750241450563, 0.31516548887038187,
            0.862475949901677, 0.9358384873199262, 0.028425766387376372, 0.8946775421918658, 0.5048158077666062, 0.3079735058741253,
            0.905521452285266, 0.3382782939863087, 0.00805007149256931, 0.7668117438293094, 0.3503874847315682, 0.24540068285954053,
            0.34937134818381044, 0.7080829295786452, 0.9387914895444051, 0.12270489981648192, 0.3787367923552257, 0.6192862503448757,
            0.19727850544391745, 0.044620824068587805, 0.19140089221178525, 0.16152792093097845, 0.036159244574331395, 0.03636370720864024,
            0.3293668928290626, 0.6398476794183242, 0.8336823113450762, 0.32395421797535995, 0.26878773097008124, 0.6315651897870012,
            0.2534218075317747, 0.8457740231602355, 0.9003479560454282, 0.7921777523907663, 0.12691147218115073, 0.6701884266609721,
            0.9596579962395817, 0.10834054813044591, 0.9835567023042903, 0.2137670559694439, 0.6146917302203405, 0.11746067569721885,
            0.059855580550557064, 0.40463400633984337, 0.6672988352130134, 0.8634360512674099, 0.8699603676053086, 0.18547852878246063,
            0.07582310282425297, 0.6080708547033209, 0.6696103545357159, 7.576795793629021E-4, 0.7558579028245502, 0.5676982414644411,
            0.39546786810395795, 0.16262220373192637, 0.8661701576376263, 0.19454196703065907, 0.911888003897131, 0.24009658574874937,
            0.036824044998642225, 0.7723479336144607, 0.6471540069530115, 0.8660449648669931, 0.24653551585798095, 0.34581713460038443,
            0.9512089864897233, 0.6064538108627783, 0.306289254774454, 0.2533709841369741, 0.7569155789446419, 0.7865628414768424,
            0.15624887930204545, 0.7827804402642764, 0.3768747600206491, 0.4183752340732825, 0.43299192365765715, 0.7191903634875388,
            0.517834846250365, 0.6240785604035219, 0.014100917264031065, 0.8050697219680317, 0.8447221177444675, 0.19990759395087465,
            0.4971413211443487, 0.38161971854100196, 0.6763243634050479, 0.21498020266100715, 0.8200583703701624, 0.7311704581822608,
            0.6446584002905033, 0.7896377671063152, 0.48002322046071055, 0.8900977468456751, 0.4000529652704615, 0.4478210910203576,
            0.05776033417656112, 0.9517910947784822, 0.693978261625237, 0.6880133262067475, 0.004386931288730467, 0.12920426936753593,
            0.42165313404521976, 0.667280990517355, 0.8977958789726764, 0.09651955257979183, 0.4564615644666299, 0.14294436993622195,
            0.6256134638065027, 0.37945720451233256, 0.3582093802426517, 0.0664085995308803, 0.20176287913039015, 0.813760908135628,
            0.28725250200793073, 0.47368657274644366, 0.17366508481342813, 0.3413910320214606, 0.7065281517266712, 0.5671451153651941,
            0.8271080892517007, 0.6639564339851464, 0.7035199832038672, 0.133005432046003, 0.6458159157630272, 0.5229163965643203,
            0.014188741814419759, 0.689129284118051, 0.7327485341702118, 0.6260838121446902, 0.08089930397096479, 0.007621958697247022,
            0.15016398248529828, 0.4899609031812223, 0.7263756956345835, 0.906783495250395, 0.38547401164074835, 0.7174386474792267,
            0.2757150819502503, 0.4569392967307325, 0.3999243813224932, 0.48039132064367673, 0.20849220065132212, 0.9946812710349228,
            0.9671310280920659, 0.22669721390252162, 0.6729852983701474, 0.5900510098847382, 0.25850371814050443, 0.8812169319617449,
            0.4445549456415505, 0.8611959348166766, 0.8825877874630436, 0.06026044085663673, 0.16020685679149838, 0.2810301185484242,
            0.8353559021722493, 0.06907412889600328, 0.9113701724540881, 0.3704304953385723, 0.0684805982008092, 0.7018791624224882,
            0.5269221297434881, 0.4224999674428229, 0.6326190786262138, 0.1139923175293428, 0.12849082369313092, 0.6524288737917303,
            0.6027414525516372, 0.2855606067097256, 0.7900668285265977, 0.9174856946938659, 0.24253376711538255, 0.8464409486340895,
            0.38395522591030007, 0.4016683618319018, 0.11490683029868365, 0.2817561031741911, 0.9450992632378145, 0.9095475912478875,
            0.09564242197339079, 0.7876580379128961, 0.13580674951172222, 0.6638332435067642, 0.49720780890294347, 0.2968301941274706,
            0.6429106428408069, 0.7511951957896147, 0.7597701089840946, 0.4432596620233432, 0.589394855162075, 0.6108697375562789,
            0.4164414278933688, 0.48581074065660723, 0.2925167654583569, 0.21058298197940895, 0.28978645498675226, 0.460130869970505,
            0.9504574298280493, 0.8043222526355306, 0.12662324045091966, 0.07842047743939129, 0.08953097222717565, 0.41648707921621886,
            0.12814889270855823, 0.14659777889948034, 0.8539842410978749, 0.44695066488740387, 0.08242111924177453, 0.5183898003883909,
            0.47041817845058986, 0.041563362202368226, 0.056227044362336054, 0.8558809958489227, 0.46886178544839197, 0.12262920646096676,
            0.8533704282584095, 0.7160506306615295, 0.49253037692987056, 0.22388682735379306, 0.6964085941866807, 0.7328301792010519,
            0.7782991802823797, 0.5245261677634339, 0.8388703446017072, 0.9142118542281116, 0.6399232632969137, 0.7267719803842464,
            0.06498606133268092, 0.323939926092663, 0.5360356138262032, 0.6715653149659646, 0.28396132275351693, 0.6673156142839769,
            0.5549540951069855, 0.8368747938570146, 0.6758251212977349, 0.5506469485342306, 0.3983287642919122, 0.11316810634188135,
            0.0958841409239205, 0.4338751643209424, 0.19566086664791538, 0.5005757355152465, 0.6948140959268476, 0.5459083370714306,
            0.7317245682834016, 0.6222775493529143, 0.9614197918657232, 0.28219390187091886, 0.918922762212836, 0.198644023853086,
            0.6450945598273475, 0.8540612472652084, 0.5966082862925692, 0.8766629757771582, 0.26501095576365186, 0.2093655009683173,
            0.9894016866707923, 0.0591832226863197, 0.16307342827546933, 0.4939637780223921, 0.4065367982302468, 0.6285063681780872,
            0.30766455600935727, 0.5735554488045489, 0.014265342721800245, 0.7088580331615051, 0.3052160274259055, 0.3854170641285962,
            0.7633520470355155, 0.8622696789210876, 0.3266355096209317, 0.13956384501358787, 0.803691161932355, 0.36240236515996893,
            0.9056206907167079, 0.6388686053351541, 0.9680758911337296, 0.44084361112408255, 0.8158919330772615, 0.23766933692872594,
            0.15715188676351755, 0.6504086508437702, 0.48437441208296317, 0.20839698846227417, 0.7075861049729237, 0.7399774219579955,
            0.6473614235876045, 0.5357543919761956, 0.07548215539106373, 0.6853983481895656, 0.2066897869472405, 0.4079776970446143,
            0.41707362449615637, 0.7709902623871134, 0.4929586765667139, 0.9247117209411467, 0.898726379890342, 0.8661738058737298,
            0.392823263338552, 0.7910301649814667, 0.818281149308493, 0.29176344985231983, 0.047394253050991986, 0.01713215757978126,
            0.8697679103352568, 0.9204513181453781, 0.07877460628228006, 0.8932462902583922, 0.13352281096599106, 0.40601429229538943,
            0.551764772727158, 0.7592735251910678, 0.6237394624596377, 0.6857753771378694, 0.12776758291165136, 0.33869993935372333,
            0.4754853022674531, 0.15085088982963735, 0.11792416749497836, 0.6563109446334536, 0.10321474182576806, 0.12871429398214762,
            0.3925119502571425, 0.8092378670130339, 0.9128100726681816, 0.5726084281469832, 0.3536363010378668, 0.11086832301625194,
            0.3991813762587816, 0.1023369726550799, 0.4282466488562733, 0.3771517757200902, 0.7114568952895355, 0.7909665687806601,
            0.7885088128403197, 0.37483109012093063, 0.017794970282413503, 0.341970948321503, 0.25656426923900866, 0.7011318352392502,
            0.2518486788644213, 0.551348062883438, 0.6007081643004475, 0.6144401751017217, 0.07291466153571535, 0.19924174232404135,
            0.6800167838381921, 0.585501073633445, 0.12179735325536378, 0.7655988045881977, 0.14445607320211584, 0.5886672905207765,
            0.9044196203771888, 0.6143933624573433, 0.6475024623686217, 0.40273143696986324, 0.885211327734056, 0.5409489290700867,
            0.7783069863694084, 0.44087138215683563, 0.6223070365687232, 0.8268901943958951, 0.17043417184044718, 0.8792408844139924,
            0.026583903624199823, 0.19725527568521795, 0.49420697048302287, 0.1037364010496068, 0.07657125776320828, 0.32429994899928494,
            0.2896887408319193, 0.7444716006683983, 0.5712630510895702, 0.7725250150202406, 0.8473338198929218, 0.8174903009223005,
            0.7528641915545324, 0.529458060375691, 0.5933377530999437, 0.7432498249451468, 0.8815024681109145, 0.5167207155242612,
            0.6867184037789831, 0.2614052833340683, 0.0939369040347402, 0.7259131547239797, 0.785159435252311, 0.5114265886667094,
            0.1282938843987862, 0.8738463654353779, 0.18664712599977729, 0.798579223507117, 0.7468625862217037, 0.7216539848351896,
            0.8039319290542464, 0.8147998610842527, 0.9389804984836035, 0.4523148938942104, 0.6788459670160507, 0.33399853759881815,
            0.2360406722904692, 0.7511173757679808, 0.9935077472036022, 0.6513179761534417, 0.7206518087532526, 0.48359682616597854,
            0.7854453851825967, 0.2858820816368832, 0.5619822809716347, 0.11547753187534071, 0.823669449827599, 0.7165641246009197,
            0.159319667074883, 0.2691502294333188, 0.35272680011483104, 0.17030641739372832, 0.2258767640499184, 0.06121663812731981,
            0.6617666534598192, 0.7325223656668817, 0.39487548794566896, 0.11563191190693867, 0.6856500695342077, 0.29911236324364376,
            0.1799397419425317, 0.39697671847689353, 0.09513418623294445, 0.13962465933484036, 0.3718288143382139, 0.25838980819888213,
            0.5831623842755647, 0.09109261393593016, 0.20354215697077593, 0.3486925799055981, 0.3042916351563907, 0.6520792692258727,
            0.8658270837784042, 0.27323666271711444, 0.6742883504884059, 0.4964608688682567, 0.2051206796009929, 0.15300614762274434,
            0.9869239502027184, 0.1764803349916726, 0.6859566766120998, 0.47650503343317063, 0.5550013409885017, 0.0346019845725033,
            0.9498694155008017, 0.8889620796594991, 0.33264354478707037, 0.593698815372084, 0.5528251496031135, 0.8133833701537047,
            0.22587600400110264, 0.9451035313926955, 0.713212786750755, 0.04798454909912786, 0.5485333487472555, 0.9040545709491163,
            0.1524247666211872, 0.7345335323743916, 0.3305222347695673, 0.9520684786835519, 0.3600596095631533, 0.3421352460974604,
            0.4354713875191826, 0.23576972815847408, 0.8657772891670645, 0.5609893965388918, 0.6948001406428298, 0.14170925439880244,
            0.3498386441795023, 0.250652756155773, 0.5152365075280358, 0.2167032575033755, 0.6743600639875594, 0.8373369028801686,
            0.6668164392259608, 0.45322291829895744, 0.1673150432519055, 0.8047730836780893, 0.20839519564112574, 0.20936693733401246,
            0.7413131470103023, 0.17317507245757835, 0.7577020437246617, 0.2829476946476869, 0.6791884512170322, 0.11083146237393016,
            0.5629699620689944, 0.9092224275211712, 0.16842799258938512, 0.07285859788676341, 0.08317090253891846, 0.7018007377369396,
            0.9164720617586674, 0.11164541525360949, 0.033888683217747184, 0.8062595945850448, 0.42891710456487786, 0.2535214191664804,
            0.10586004095175094, 0.7859970631855768, 0.7826529537338062, 0.08617904186433534, 0.8132154483849922, 0.009856185136784212,
            0.9759651185227927, 0.9513816943842964, 0.17845096137524874, 0.5610498908806805, 0.1876338769256497, 0.3874886147235017,
            0.21116230680236192, 0.9369186911705967, 0.5270610842874981, 0.7163279790366384, 0.38757220098821965, 0.059052004680764214,
            0.1074560778415673, 0.9189493284869793, 0.587882697335578, 0.36330445936045463, 0.5241119858994869, 0.19478668101842034,
            0.1984831734253194, 0.989238613168626, 0.06980345612866856, 0.8487634477215641, 0.3360458083334188, 0.3385250518119963,
            0.2693374469244315, 0.4008706944247027, 0.40053925726475936, 0.5218313016719087, 0.5652879249471171, 0.0627495180054578,
            0.41419227740752407, 0.46373085081903775, 0.23694591166617218, 0.9758093239230894, 0.8534381387651746, 0.6851632618158854,
            0.8845161764668591, 0.8554129160282619, 0.9308712385936155, 0.03297697467991989, 0.06059174349009255, 0.935659596554414,
            0.5342473566975862, 0.8760857911578867, 0.8809374576069973, 0.359297820646871, 0.2795584114203299, 0.5377703928149844,
            0.6966138884573937, 0.4072984766739738, 0.3852132504381348, 0.9836561001562746, 0.15947281050322637, 0.2126200461037231,
            0.3243556714699195, 0.03489823273459525, 0.26305556037788425, 0.852696766344275, 0.46235090153965375, 0.6261061508024802,
            0.1909253977237182, 0.9651814750148822, 0.13647170755004834, 0.8775374353199, 0.05446528255741301, 0.281473849263682,
            0.8848155828721391, 0.0010931155119727753, 0.8521722028061016, 0.7225656366425409, 0.7814840113458447, 0.309645676459944,
            0.23247924898704053, 0.951734030739611, 0.085055320451351, 0.849230659062035, 0.8921369347521826, 0.5286144230013592,
            0.6573820728923372, 0.4236333836817828, 0.692184729302469, 0.05918384040691671, 0.8597446797142485, 0.03090185568963144,
            0.8235441737333066, 0.9861862184701232, 0.8833918638236652, 0.9813172128520437, 0.6042648974933387, 0.9145308266826946,
            0.7214999327034567, 0.21635304844537384, 0.7404546909511399, 0.6161951523360798, 0.2395814966403499, 0.5981545900691634,
            0.13292486829555605, 0.1091633735709221, 0.05137533048927889, 0.18906922449828845, 0.5615822481276729, 0.45493170523994675,
            0.1572482760614674, 0.7907595795166232, 0.8295989636183938, 0.16911197940119216, 0.5521407565007399, 0.26243034759784156,
            0.19939137743554536, 0.3896644981582429, 0.2600868220867555, 0.38770006982660143, 0.2024392313581047, 0.19729163242309233,
            0.5023404403906915, 0.3096492809925738, 0.15497655165062696, 0.732523316077004, 0.9561386149459433, 0.803576092689527,
            0.9615852240486301, 0.004025558927708284, 0.31113324652504426, 0.9069906228025093, 0.038722692372789025, 0.5326634930167541,
            0.5805226117580159, 0.6763794152705673, 0.44021502989882355, 0.22585003842245055, 0.8739137994886446, 0.09027107224352726,
            0.5167466065329344, 0.1267113827372498, 0.5889473148800235, 0.3681345032905966, 0.691377518963284, 0.932600680739974,
            0.22871522891875928, 0.22464085731712202, 0.18312010369492504, 0.42749117589231833, 0.30200392686698674, 0.8288205492978412,
            0.7606059311066714, 0.22277984470622547, 0.013392915267981143, 0.4876464698347067, 0.8578740565449304, 0.45103304128304933,
            0.7002407783074126, 0.32357484180168283, 0.6343125598923436, 0.30720529522516604, 0.22358961647616205, 0.46557470032588455,
            0.8107837547454814, 0.5818623602413385, 0.7700191402931302, 0.5231774976203635, 0.3639649123749248, 0.5809401360330724,
            0.7714818041880228, 0.363077890874297, 0.4109356043082971, 0.07657027021062424, 0.9001500862473192, 0.45781717746297945,
            0.8660428158055841, 0.18350401067183653, 0.3453072467693411, 0.3260803537269885, 0.7020750756283353, 0.3056654802709109,
            0.8293127830903412, 0.8341383286381492, 0.897777074747052, 0.5473655195271977, 0.06967384657229891, 0.37796621644760486,
            0.40373574371687326, 0.23370744056446824, 0.6442538913684099, 0.21556945570045483, 0.7086692092117974, 0.434715919987135,
            0.46664972399940874, 0.46904832853497946, 0.8381498006132316, 0.637720411136788, 0.328768305313096, 0.5659328288165902,
            0.8677924451867177, 0.9625240128628701, 0.2176345558165984, 0.1393185647832319, 0.2829396003908837, 0.5638893019107293,
            0.3634611657764433, 0.6563352945750887, 0.7668740395007311, 0.11587238643583597, 0.22601216026487592, 0.29447926461305873,
            0.2495906614410457, 0.522536248163149, 0.8762909597771814, 0.835340420207628, 0.2991587527707533, 0.24957481696493322,
            0.4805843960257964, 0.5952560383422159, 0.18770573115297562, 0.9213787932219469, 0.8438940866376433, 0.6624218296608837,
            0.21405371629522074, 0.0780749076104632, 0.21978611427041372, 0.9599917392295142, 0.11504024826710835, 0.23706916429346536,
            0.8436905107317798, 0.90469788798112, 0.6475543278167091, 0.6536261073357676, 0.8966816331782924, 0.6805216832487183,
            0.6733189570318664, 0.4250147680801123, 0.8567707765157517, 0.3969475179446841, 0.3284516306390647, 0.8327528490162535,
            0.444742250638841, 0.6513301538452475, 0.10983379982401675, 0.06748015205736801, 0.6215641548731007, 0.2649072755942711,
            0.9603207961194387, 0.7309929334156743, 0.3444051006087727, 0.21198813952161832, 0.6848231403866384, 0.7599698726166315,
            0.038288166643660304, 0.011849870945477514, 0.2792909107008985, 0.665921315491861, 0.990413271169305, };
    private static final double f2Array[] = new double[]{0.41008081149220166,
            0.3327170559595112, 0.006117182265761301, 0.9398653887819098, 0.9370821488959696, 0.34751802920311026, 0.5064836273262351,
            0.7705358800791777, 0.15674689056984625, 0.13976268290375116, 0.8052277714737137, 0.523135155788333, 0.14202270321592614,
            0.5445548088936737, 0.20491354575856158, 0.18470709027794863, 0.16104332337170224, 0.5403970647837965, 0.24542655358129561,
            0.21760212490768482, 0.2331557947513334, 0.03832689331927541, 0.6551736031294164, 0.6524767068959532, 0.20673750736050733,
            0.46334978756947576, 0.4432124503172691, 0.9989808147679288, 0.9095840355890242, 0.4914512055616126, 0.3080929152084798,
            0.9624145927337464, 0.17264882091400524, 0.5554683820879616, 0.7891906578350958, 0.20463555220568552, 0.7779163595195279,
            0.9831031848337031, 0.8363149477563286, 0.6374974298594064, 0.6311898883115249, 0.8803572849070423, 0.7233716462158025,
            0.9871021380962999, 0.7105747751483344, 0.12367122850292422, 0.4818623552605982, 0.6171458898614318, 0.5914391059546381,
            0.07404792727334575, 0.280001615782666, 0.8496408070142764, 0.5986324882746571, 0.8764426533244832, 0.4232327288662894,
            0.2712933251747158, 0.8867444223713158, 0.4577001830735099, 0.9019239557423011, 0.7638204881746642, 0.9991834307905937,
            0.5863206319929348, 0.6620259613053776, 0.24648563130230905, 0.7068583347506787, 0.6073350789607563, 0.024472129835244494,
            0.369134315501327, 0.17724271181295093, 0.7155724849913587, 0.9291026104275344, 0.6440122873835524, 0.7746041094589238,
            0.8805986697893162, 0.9288937133245545, 0.7546462452610667, 0.04217868395172397, 0.7866092457818081, 0.1102736115092493,
            0.030068835878899747, 0.6670733531962961, 0.40055716131309627, 0.3653057377846176, 0.3226691910455337, 0.47867587220659435,
            0.03179647698528931, 0.6915212116814826, 0.7779502723802081, 0.7813547336294311, 0.9965234515119386, 0.4451812617337756,
            0.23447408750505638, 0.5722295925058892, 0.2502962555948841, 0.7237512084322348, 0.24227614275862075, 0.44479400596125773,
            0.6019146360600576, 0.3033671447590315, 0.9380305012325801, 0.22917135836775204, 0.37194051348653157, 0.8070763655241631,
            0.2652464610309502, 0.6697852634820785, 0.609141081433683, 0.02963321139734998, 0.2777782747076535, 0.6912259325002929,
            0.22813550225946921, 0.5946311329871145, 0.5149291408485576, 0.05309346425588812, 0.6815264621608791, 0.36975249929974696,
            0.6864305832800729, 0.44459943474484964, 0.029797717682461533, 0.3159175147233838, 0.15557863513492431, 0.3197081668867078,
            0.5222592465012812, 0.6961128822508109, 0.9588080550158974, 0.023598618121072, 0.0523207845569158, 0.8196823891995005,
            0.34998568701436705, 0.0112285275189965, 0.10037536978542638, 0.7478598072733377, 0.10770436318776633, 0.20878161844762944,
            0.02757389059275095, 0.6363258883437724, 0.09385852730802446, 0.8187796102262063, 0.8337721028642606, 0.6405704810942022,
            0.8017828816275877, 0.11963981246009647, 0.742931210503477, 0.5598410954199078, 0.8822351982221481, 0.06045988412760983,
            0.22925325722985235, 0.6454591110906983, 0.8855046786130781, 0.7018109259870454, 0.3473327599047381, 0.24928496501916897,
            0.7079271000862475, 0.8033199444863032, 0.4796055703451215, 0.2381134912899886, 0.4810877822329298, 0.10882339963492693,
            0.8643764331471611, 0.34978060673208544, 0.8919939623067634, 0.12987253974477075, 0.517706382941291, 0.9167628663664387,
            0.17249759057073433, 0.47837213864160977, 0.4124412921387338, 0.6330506866305711, 0.24624984365549918, 0.04913385234394907,
            0.027662630634804453, 0.29007696187812804, 0.7714686576756621, 0.6031252520178065, 0.631842068903811, 0.6574820434179904,
            0.06780052697125838, 0.5521959960728839, 0.9129808145875816, 0.9344963074024069, 0.1655576541542202, 0.9960622801652868,
            0.8190150383409399, 0.4477217800174952, 0.46561210710901313, 0.31233079700420996, 0.7217686739169311, 0.521093845119918,
            0.7482275992406374, 0.8503435309922657, 0.26773494080453997, 0.6938043761132161, 0.5191108689941513, 0.5296246866520944,
            0.5289676136313823, 0.7119676673848918, 0.9309632972906509, 0.39371075549396883, 0.3173634238970139, 0.9698101420192741,
            0.7688143887265757, 0.42014519164038855, 0.7756168045138527, 0.32616523345900295, 0.23741816496320878, 0.13741899143501635,
            0.6081283999742628, 0.47205490211790224, 0.5389938651852385, 0.8496382077676982, 0.56514823224583, 0.2751385513187261,
            0.4795920840116412, 0.5196997613981449, 0.043435042070922525, 0.7768110196253885, 0.5923677044848485, 0.6117568854838211,
            0.9167131353568266, 0.767730793922769, 0.5160407341697132, 0.44375533462662087, 0.9592076508355186, 0.11755950191551656,
            0.6168264541423047, 0.8508216275886508, 0.47553976494387906, 0.28469419347739144, 0.09211602615295178, 0.2102845369480859,
            2.6304067605464887E-4, 0.6817734918743114, 0.044188841083690256, 0.1291113258134179, 0.1803221308849675, 0.8227389827316095,
            0.2622378210397611, 0.34453949038164466, 0.2037150502352597, 0.427232944120411, 0.700989084855186, 0.6386858586360091,
            0.38764033804338127, 0.9081138228865419, 0.8941969285817448, 0.8179137965182548, 0.7894103336576885, 0.9178706127509368,
            0.7912956574012532, 0.05773993228675156, 0.9534118642625213, 0.879717353040449, 0.7554893620914942, 0.16406191780526103,
            0.15739542519809402, 0.6791492090518296, 0.7115609604188662, 0.5514879594708586, 0.7713743389446821, 0.9417409878293336,
            0.6816817083468104, 0.98954983869146, 0.5924149952146847, 0.5729698409313607, 0.1975024939824983, 0.41758041539179,
            0.2685993826295583, 0.48584298561484673, 0.32680802229329464, 0.3790369246763067, 0.17544140930597707, 0.6921118011320444,
            0.3030153003730258, 0.8760513656017249, 0.35803781304628146, 0.18285377976891704, 0.9957976579494372, 0.6949890761208142,
            0.4022354937336948, 0.2742033391425007, 0.7111153925379051, 0.50379709862392, 0.34809601647331023, 0.3440126252091671,
            0.058934564505429665, 0.27192306506143404, 0.008938678495067576, 0.13522403520746018, 0.8769147706796528, 0.8135862880300482,
            0.30924367067068825, 0.051735254711314904, 0.4483477570430564, 0.5051821965879516, 0.50469613806492, 0.122538187840041,
            0.5026274234755996, 0.4776011698824555, 0.3976526480213167, 0.5599131484955855, 0.7365330736353735, 0.8342432575324911,
            0.9113113991941288, 0.08745944580429932, 0.8446067386120112, 0.6955100261139812, 0.635867121232984, 0.4637436794796559,
            0.2969060772651446, 0.1205545513039551, 0.2099321847964486, 0.8773468410302443, 0.35241403205993493, 0.20707104090056394,
            0.6505050727668266, 0.13909179729980636, 0.046386348431193936, 0.9199053094405434, 0.9947673970661584, 0.8472319467898354,
            0.13991851646773668, 0.44926720965167144, 0.8669908876172581, 0.9513828264171822, 0.2700129821781594, 0.1493264277262829,
            0.8338353813875616, 0.3909773473984771, 0.7884283137895551, 0.3579727104004834, 0.6613192902136851, 0.7340265049690385,
            0.027591207593261946, 0.6485221319908022, 0.8367435529927254, 0.9919662629798196, 0.98185280272232, 0.3141502235037683,
            0.9688505434876238, 0.036372346321353444, 0.642370479947377, 0.1358333559033087, 0.9294990957948142, 0.2933236645699906,
            0.47389633820423327, 0.7345799223577726, 0.850136828148833, 0.6411961966629384, 0.771753710204283, 0.058731988845164174,
            0.33635108357430943, 0.687668231360747, 0.887282933192784, 0.8071193528191569, 0.5137798692256846, 0.8517180705974352,
            0.560037609546343, 0.8388465228522799, 0.7686637329454689, 0.9263960068983158, 0.8450125062193224, 0.8704946707175599,
            0.29631999613429094, 0.04815116787564888, 0.3731845735997159, 0.011518957066299018, 0.8208208849605739, 0.24849500172928307,
            0.9336481508278122, 0.9386232598115296, 0.09915613708748583, 0.013782287335055154, 0.6156255922690342, 0.7598929522439878,
            0.07316196122112595, 0.528891152275464, 0.9986347770750461, 0.869467380010535, 0.782497321538367, 0.5305832878691952,
            0.12909446085303078, 0.343533123566125, 0.4019488208012847, 0.9463255241790453, 0.27164896863013555, 0.6784192407438293,
            0.016345370283433636, 0.7443540509123717, 0.6734932998916963, 0.9215758219231779, 0.99636416618406, 0.6707627377662577,
            0.8299800480226907, 0.4962172238046825, 0.0885087657747381, 0.7993964005472658, 0.9897892719862564, 0.2704109193900266,
            0.5825410288236811, 0.07033071248712741, 0.887942506501886, 0.6713934717368216, 0.16964776969627793, 0.24271955493017805,
            0.9449425179437135, 0.8958949192647019, 0.3546235951044625, 0.9377915589679509, 0.42031947813144355, 0.5172525213881114,
            0.5353510038714654, 0.6977766098449948, 0.25886542400465773, 0.040095457726361694, 0.11285923113513652, 0.2365438496444935,
            0.6178377275071133, 0.20338143711689272, 0.2452429208069673, 0.3077323896620069, 0.3134131680002875, 0.08256680223173574,
            0.10872178833503754, 0.8661559625021065, 0.6746736966112323, 0.29169098916556313, 0.7791228567769128, 0.44826256884403315,
            0.5434052836683153, 0.8361568458389367, 0.09706609295459279, 0.9474308630012115, 0.4079908417723638, 0.4169881677740406,
            0.13013512355508372, 0.20988389263649287, 0.9096787721189832, 0.23734520257786762, 0.09531382069579186, 0.12700200381318671,
            0.20950825327943257, 0.612080010681371, 0.8549704889723759, 0.14981583221755723, 0.9541723208669317, 0.9311125007247726,
            0.34967049566231845, 0.4014606031369772, 0.8291005054962943, 0.7774085279486408, 0.5810987855292123, 0.8133733837357346,
            0.9370417123853095, 0.25034123905938, 0.008373695595727537, 0.9610139663203001, 0.4904288343342875, 0.7952170444781606,
            0.4710328482285808, 0.5248911378947596, 0.5558065637431537, 0.08974742379367662, 0.0019727986737957393, 0.5526752605673795,
            0.8386032770043154, 0.7882476398539541, 0.14362365496982932, 0.9481785828328835, 0.7465284047766235, 0.1743438727914015,
            0.6306395789670515, 0.8629844521605663, 0.21987658616174666, 0.022969901570390028, 0.552386811064249, 0.9165067371541147,
            0.06701980422144238, 0.22243452397658914, 0.35851031365515396, 0.42026054775687594, 0.7933687934064627, 0.9573410438030211,
            0.32086014690444564, 0.032125852341086, 0.16208484928035338, 0.5031400981084475, 0.3150590965293205, 0.5163848938902826,
            0.9748235024722381, 0.9330970117420189, 0.03499264485433817, 0.53531466883729, 0.810790956273847, 0.288454974361542,
            0.003502409934864281, 0.6481160934733163, 0.7123951446956542, 0.012575145182911585, 0.992564658106881, 0.9429605626970077,
            0.0557717814061609, 0.6998353010630244, 0.7162347837904882, 0.9779357271846756, 0.09446763634879851, 0.4600678127787572,
            0.9096392352449937, 0.9566711862999593, 0.9145614328122301, 0.449318483147941, 0.1572959812685929, 0.3144257514607889,
            0.7895041919665932, 0.3677074863403289, 0.08404490068298909, 0.1404173125580347, 0.17295999133616635, 0.9751736216495236,
            0.7718692268488567, 0.11217677587919728, 0.817928465032104, 0.9258829944139931, 0.5158894216019188, 0.8677069049658436,
            0.7604302878872032, 0.47208361302962143, 0.28281069281192706, 0.9912278830354343, 0.15603688935996074, 0.8381869923901822,
            0.4851051797770284, 0.03829037624218401, 0.2075257362074313, 0.3158581111371497, 0.9342104602400603, 0.27603752152682404,
            0.6719422286284696, 0.380894820505816, 0.0860253510851966, 0.06439722182694341, 0.6853496904378996, 0.3826780894020333,
            0.941984321225358, 0.05398570301119554, 0.8935485352260933, 0.6069743846622229, 0.2189917495091287, 0.6265038568700789,
            0.12704591770115248, 0.762871250756007, 0.6514972940035318, 0.25340746608761233, 0.10855716823501083, 0.19462751454397587,
            0.538993672536629, 0.6986326194597728, 0.9313202080519416, 0.3692191420970389, 0.9022180388999095, 0.24115756974621194,
            0.29650417602556234, 0.44036243396019714, 0.8613380981322428, 0.34318217105776305, 0.7479935166768864, 0.9397951313817701,
            0.09940462957309959, 0.43970640893657675, 0.39282890190054565, 0.8965974849693585, 0.5243510321155898, 0.7752889588657215,
            0.8455860497472151, 0.9353338210406783, 0.4928217168092184, 0.46376726401334356, 0.3849738351411095, 0.1537962473486124,
            0.20911025181554932, 0.1967201946080953, 0.5609328378169689, 0.831131756154932, 0.16248868998590604, 0.27645472759685996,
            0.7405157000036587, 0.2671336734280415, 0.7162092001311383, 0.8992977611355465, 0.3308304018859006, 0.3034791964269362,
            0.21145932049387206, 0.8649743908052748, 0.6673278497230012, 0.3276936927752435, 0.19955211195546763, 0.13785370995065993,
            0.8057148176008687, 0.8106234213311512, 0.6656324326305526, 0.9358437814074807, 0.705773823960701, 0.6781978769483181,
            0.357180484721486, 0.2727166120484438, 0.5453708274184407, 0.06826286064002196, 0.5805940862536189, 0.12964460605097416,
            0.15293222616083402, 0.27326555919802875, 0.0791307366073194, 0.6817296337895491, 0.7966723807083165, 0.9195729965487592,
            0.8554907869065987, 0.25530614010243957, 0.8188528239555954, 0.6842050291395272, 0.0523230449506249, 0.9417993766813144,
            0.8533544155330558, 0.09976307627407188, 0.2539339841869305, 0.043919981167895195, 0.6148438949725025, 0.2483360184604796,
            0.8224816703457634, 0.7799763825868858, 0.4978157405430783, 0.3951642833273641, 0.1319359850163202, 0.9220859502255642,
            0.4737908552960949, 0.8628435298196576, 0.8130861927290854, 0.2940665518537722, 0.02495329265842039, 0.696849181197882,
            0.37287690183379296, 0.3047892968336612, 0.10250607372658527, 0.9231628226714794, 0.8013542778505203, 0.9427741225623486,
            0.34802765877853614, 0.44878222828013326, 0.029502970987562382, 0.9078091860613561, 0.06611001339649081, 0.905895593269404,
            0.3512556388553393, 0.8053755924961179, 0.6865597497614379, 0.990501818530997, 0.17295605506120593, 0.5796583553842021,
            0.704443514480732, 0.09625765432198408, 0.7035570514150659, 0.6109251575284359, 0.3362588278378481, 0.29433330396413926,
            0.44883453029982134, 0.15305405330274013, 0.38051155327632336, 0.9600575108045458, 0.6228989066952663, 0.036991211940283764,
            0.02098165649236805, 0.5971333938625069, 0.8402852238600366, 0.8159202820360201, 0.5609579039569529, 0.6602064801270133,
            0.7019028625759701, 0.7779242161428938, 0.32672313789010954, 0.42656583385135094, 0.13812675106116235, 0.5019212027290073,
            0.2285713661041212, 0.21775993197477694, 0.6223106452787825, 0.8826557008372271, 0.71763780454944, 0.5219082381719106,
            0.618004096175294, 0.8005258447349068, 0.12682307372710255, 0.8174897893836427, 0.8731543515779763, 0.8620286832817884,
            0.6340930071764495, 0.1493902465191096, 0.4245742951953321, 0.8866041115218227, 0.3364351316408868, 0.7579882835982779,
            0.4259577971101478, 0.06565919019497068, 0.17275307595481937, 0.31206295328920364, 0.16272360056053115, 0.9695538224334346,
            0.6839803929375886, 0.5463029850658977, 0.8669691715527589, 0.8283290586552863, 0.8486947309625777, 0.3541994676763449,
            0.19581565845300042, 0.7619593639983939, 0.48251369792628807, 0.637103028608804, 0.4864250528256251, 0.8859100522523842,
            0.9395539279802528, 0.4602268206849017, 0.15097118295289347, 0.4677812131809642, 0.10423409025356478, 0.316376629633326,
            0.8248454301380679, 0.560819150927825, 0.911703715007334, 0.5481891520023096, 0.13137858315990492, 0.7900769807734142,
            0.8851784497889807, 0.22965991372690298, 0.17636016056481874, 0.21700515606664328, 0.42846355397245484, 0.057742005369096905,
            0.13563616167926285, 0.45825359495055584, 0.8619464454179635, 0.054796813774150244, 0.549066777194294, 0.484466454377506,
            0.4403398170646544, 0.13267803791989286, 0.18412528097518877, 0.7748507367451347, 0.8404565022682858, 0.8192303847691963,
            0.5824191794626585, 0.7533001715294636, 0.8572973757293324, 0.6979838827250943, 0.6524149818795641, 0.6818554901911699,
            0.296733267657881, 0.3618253798620984, 0.9216479581823215, 0.43728241007149116, 0.3030627219131511, 0.9314282762919018,
            0.31169777858432035, 0.8465484083009207, 0.6097261063774143, 0.4392218715724996, 0.5492117666689957, 0.5069799069109463,
            0.45145812236898564, 0.6296814286729834, 0.5762566077658124, 0.2668806148958679, 0.12615907979302998, 0.9767203577547818,
            0.573279968935319, 0.7923927750748152, 0.44476714129704853, 0.968965688336828, 0.4579632373149789, 0.8963822179631935,
            0.5574119244815315, 0.963698017038589, 0.9732465873027797, 0.5551286203263925, 0.8941313450576741, 0.160237419843405,
            0.7278077248913556, 0.7886021611976274, 0.20843249978457656, 0.4935561957011062, 0.802275422772077, 0.8301078910763617,
            0.9619782560109882, 0.49890011667687006, 0.7844592615770709, 0.2610790145397621, 0.5386803541045949, 0.44819914832283647,
            0.34687654931759004, 0.036800364730729784, 0.026480637439848853, 0.3090488609940253, 0.7298581696628238, 0.5788432476032191,
            0.555101536602302, 0.32704408438094057, 0.7435138915333146, 0.3599930163447741, 0.4280469232915448, 0.28224578011124835,
            0.15183921102803566, 0.6574506358133781, 0.5371347958568383, 0.7205624090214287, 0.5522441762029098, 0.4000891727254561,
            0.7978429641016034, 0.7108271628315604, 0.11378613905995316, 0.28554703022566785, 0.5937488600147307, 0.928352254867754,
            0.7873871311339847, 0.5929386614096559, 0.46834500714332294, 0.11574145330087382, 0.8513175015622804, 0.3669642451542596,
            0.5525110740991572, 0.22174222290942103, 0.9052268493002383, 0.8991995431140977, 0.46592396295709293, 0.7689186364834767,
            0.676003612696955, 0.6823472349745162, 0.6806871933138394, 0.2509263697235097, 0.24874447475364525, 0.2632308241599344,
            0.5854607570938265, 0.6101709183992102, 0.5861149398282279, 0.6703125973520992, 0.7383726229142062, 0.09663050808434381,
            0.449382143251462, 0.3415166182585727, 0.04699326626140443, 0.05862461916595052, 0.08440155509175795, 0.7281382613377049,
            0.8636545756546052, 0.4663097241037538, 0.2858381403451512, 6.213925802862619E-4, 0.23439407146433, 0.21868322669332996,
            0.702903986964849, 0.5319844124814902, 0.7898058695178819, 0.53487705874787, 0.4998932247771588, 0.08467658867826233,
            0.016079840249878852, 0.9805219016003436, 0.7347952855733139, 0.8766456773189336, 0.8945096728233278, 0.929963614500768,
            0.06926845246167157, 0.9523984022012429, 0.14775173456371693, 0.5151129788714219, 0.6732542048774186, 0.5348346342833538,
            0.5811155617914511, 0.36170978170116164, 0.43751400186045464, 0.2836369225604385, 0.2571672241945947, 0.6637829803410328,
            0.8573698072107098, 0.6359964051759278, 0.491927061928919, 0.39708769631085095, 0.20092930622757443, 0.655456371780391,
            0.9109429258285102, 0.7223006686202343, 0.8250773188083724, 0.06465473697514079, 0.053520025033163776, 0.878755100478281,
            0.7525145746793921, 0.38774674800759323, 0.2633889370989154, 0.11949646284014359, 0.8731250649617647, 0.3782890747967683,
            0.8540926688310957, 0.48844022591760006, 0.38295335191254054, 0.1583665980053801, 0.7873743154556799, 0.4904130150466469,
            0.3240728349764166, 0.7447430953909673, 0.35284651184212346, 0.9548581694897944, 0.3386265114506565, 0.8878171347019308,
            0.5872237242045537, 0.6439872378189933, 3.2132675620588635E-4, 0.39916435099918923, 0.4213988963694767, 0.40615836610512934,
            0.33665734714373996, 0.3934474986257047, 0.7936455213886092, 0.9252632541210493, 0.4051730807956425, 0.12047525453891295,
            0.21722649612280232, 0.3669033005079254, 0.03698809819626925, 0.31319139419631026, 0.5406908966308936, 0.4721369026845661,
            0.11092440439136297, 0.2273752496540048, 0.8891401437481619, 0.8995785697023827, 0.9714875128432987, 0.7988348848039694,
            0.024744391214416628, 0.8666313891425262, 0.853988710755928, 0.5938742326859319, 0.6147909857160093, 0.3906341395572558,
            0.43008978595066694, 0.478815428633963, 0.14554561513495823, 0.6807040605608272, 0.837051071868247, 0.18435738302802063,
            0.4702078826107653, 0.48105681794112587, 0.8039647438794445, 0.19055228189592943, 0.22924224308308538, 0.4165846535455908,
            0.7382539329065663, 0.6081808877726989, 0.6313658685574693, 0.6414740710481364, 0.8857193138675249, 0.9823080086876935,
            0.3334742372013112, 0.3416445614406821, 0.9274142788366633, 0.19379937276500836, 0.40778616897441355, 0.8917889966496795,
            0.6266300469603598, 0.8845812986593037, 0.6344892891658166, 0.7177976496066597, 0.3892717986698304, 0.08242415344329423,
            0.6081671880558879, 0.16534656603074216, 0.8509071936797391, 0.9510310999278553, 0.3962896231537669, 0.9254319109760002,
            0.8537685316783884, 0.8412131026791975, 0.7380469055692939, 0.8176311569626524, 0.42698977363706947, 0.06893185117626699,
            0.021809869123578074, 0.9818728038002059, 0.6333595857867947, 0.09599142781179204, 0.529496466899789, 0.7794953702616461,
            0.39587197436728117, 0.03916016311329329, 0.6861264161900674, 0.9543774892778318, 0.6673552187109919, 0.683504019977541,
            0.30284506320000915, 0.8549198691629334, 0.5564609315374237, 0.4257125544140057, 0.05169777670790987, 0.7676605874616214,
            0.27329406577915716, 0.8231988169425258, 0.6604360047873216, 0.6633048897107768, 0.007965480748020726, 0.6747545178122223,
            0.5656364155488167, 0.9059509522558516, 0.10534780500649787, 0.8085415147130773, 0.012414114448479507, 0.7262925206443275,
            0.14931651422653303, 0.003200953597789824, 0.8390116198893429, 0.509579890186982, 0.819756834740997, 0.7178615161660963,
            0.4345442543871614, 0.19912054999134576, 0.6356182197066117, 0.5568275905391065, 0.6081838192912551, };

    @Test
    public void test1DdescisionTree() {
        //This test fails if there are too many errors
        final Graph graph = new GraphBuilder().withPlugin(new MLXPlugin()).withScheduler(new NoopScheduler()).build();
        graph.connect(new Callback<Boolean>() {
            @Override
            public void on(Boolean result) {
                BatchDecisionTreeNode bdtNode = (BatchDecisionTreeNode) graph.newTypedNode(0, 0, BatchDecisionTreeNode.NAME);
                standardSettings(bdtNode);

                ClassificationJumpCallback cjc = new ClassificationJumpCallback(new String[]{AbstractClassifierTest.FEATURE});
                for (int i = 0; i < dummyDataset1.length; i++) {
                    cjc.value = new double[]{dummyDataset1[i][0]};
                    cjc.expectedClass = (int) dummyDataset1[i][1];
                    cjc.expectedBootstrap = ((i >= 59) ? false : true);
                    bdtNode.jump(i, new Callback<Node>() {
                        @Override
                        public void on(Node result) {
                            cjc.on((AbstractClassifierSlidingWindowManagingNode) result);
                        }
                    });
                    assertTrue(cjc.errors == 0);
                }

                bdtNode.free();
                graph.disconnect(null);
            }
        });
    }


    @Test
    public void test2DRandomDescisionTree() {
        //This test fails if there are too many errors
        final Graph graph = new GraphBuilder().withPlugin(new MLXPlugin()).withScheduler(new NoopScheduler()).build();
        graph.connect(new Callback<Boolean>() {
            @Override
            public void on(Boolean result) {
                BatchDecisionTreeNode bdtNode = (BatchDecisionTreeNode) graph.newTypedNode(0, 0, BatchDecisionTreeNode.NAME);

                bdtNode.setProperty(AbstractAnySlidingWindowManagingNode.LOW_ERROR_THRESH_KEY, Type.DOUBLE, 0.2);
                bdtNode.setProperty(AbstractAnySlidingWindowManagingNode.HIGH_ERROR_THRESH_KEY, Type.DOUBLE, 0.3);
                bdtNode.set(AbstractMLNode.FROM, "f1" + AbstractMLNode.FROM_SEPARATOR + "f2");
                bdtNode.setProperty(AbstractAnySlidingWindowManagingNode.BUFFER_SIZE_KEY, Type.INT, 60);

                //Classification:
                //f1 >= 0.5: 0
                //f1 < 0.5: f2 >= 0.5: 1
                //          f2 < 0.5: 2

                ClassificationJumpCallback cjc = new ClassificationJumpCallback(new String[]{"f1", "f2"});
                for (int i = 0; i <= 1000; i++) {
                    final double f1 = f1Array[i];
                    final double f2 = f2Array[i];
                    cjc.value = new double[]{f1, f2};
                    cjc.expectedClass = (f1 >= 0.5) ? 0 : ((f2 >= 0.5) ? 1 : 2);
                    cjc.expectedBootstrap = ((i >= 59) ? false : true);
                    bdtNode.jump(i, new Callback<Node>() {
                        @Override
                        public void on(Node result) {
                            cjc.on((AbstractClassifierSlidingWindowManagingNode) result);
                        }
                    });
                    assertTrue(cjc.errors == 0);
                }
                //Now starting to make errors:
                for (int i = 1001; i < 1019; i++) {
                    final double f1 = f1Array[i];
                    final double f2 = f2Array[i];
                    cjc.value = new double[]{f1, f2};
                    cjc.expectedClass = (f1 >= 0.5) ? 2 : ((f2 >= 0.5) ? 0 : 1);
                    cjc.expectedBootstrap = false;
                    bdtNode.jump(i, new Callback<Node>() {
                        @Override
                        public void on(Node result) {
                            cjc.on((AbstractClassifierSlidingWindowManagingNode) result);
                        }
                    });
                    assertTrue(cjc.errors == 0);
                }
                //This should be the last drop: 19 errors of 60 value buffer (0.31...>0.3) should push us back into bootstrap
                final double f1 = f1Array[1019];
                final double f2 = f2Array[1019];
                cjc.value = new double[]{f1, f2};
                cjc.expectedClass = (f1 >= 0.5) ? 3 : ((f2 >= 0.5) ? 4 : 5);
                cjc.expectedBootstrap = true;
                bdtNode.jump(1019, new Callback<Node>() {
                    @Override
                    public void on(Node result) {
                        cjc.on((AbstractClassifierSlidingWindowManagingNode) result);
                    }
                });
                assertTrue(cjc.errors == 0);


                bdtNode.free();
                graph.disconnect(null);
            }
        });
    }


}
